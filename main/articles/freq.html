<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Frequency Analysis • tidytlg</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Frequency Analysis">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidytlg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/tidytlg.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/freq.html">Frequency Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/symbols.html">Tips &amp; Tricks:  Including Symbols, Superscripts, Subscripts &amp; Line Breaks</a></li>
    <li><a class="dropdown-item" href="../articles/tbl_manipulation.html">Manipulating `tbl` data frame</a></li>
    <li><a class="dropdown-item" href="../articles/tlgsetup.html">Column Metadata &amp; How tidytlg Sets Up Your Data Using `tlgsetup`</a></li>
    <li><a class="dropdown-item" href="../articles/univar.html">Univariate Statistics Analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pharmaverse/tidytlg/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Frequency Analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/tidytlg/blob/main/vignettes/freq.Rmd" class="external-link"><code>vignettes/freq.Rmd</code></a></small>
      <div class="d-none name"><code>freq.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>freq</code> and <code>nested_freq</code> functions are
called to produce categorical-type summary statistics (i.e. counts and
percentages) for character variables. These functions can be used to
create all different types of categorical summary statistics tables.</p>
<div class="section level3">
<h3 id="counts-statlist-statlistn">Counts: <code>statlist = statlist("n")</code><a class="anchor" aria-label="anchor" href="#counts-statlist-statlistn"></a>
</h3>
<p>There are many uses for <code>freq</code>, the first one we’ll show
is to create the first row of analysis set summary of population counts
in the output. In the following table the <code>subset</code> argument
is used to create the one row summary with the row heading specified in
the <code>rowtext</code> argument.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">cdisc_adsl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01PN"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"ITTFL"</span>,</span>
<span>    statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="st">"n"</span><span class="op">)</span>,</span>
<span>    subset <span class="op">=</span> <span class="va">ITTFL</span> <span class="op">==</span> <span class="st">"Y"</span>,</span>
<span>    rowtext <span class="op">=</span> <span class="st">"Analysis set: ITT"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Analysis set: ITT</td>
<td align="left">5</td>
<td align="left">5</td>
<td align="left">5</td>
<td align="left">HEADER</td>
<td align="right">0</td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="big-n-row-counts-and-percentages-statlist-statlistcn-n-x-x">Big N row, counts and percentages:
<code>statlist = statlist(c("N", "n (x.x%)"))</code><a class="anchor" aria-label="anchor" href="#big-n-row-counts-and-percentages-statlist-statlistcn-n-x-x"></a>
</h3>
<p>A typical call of using the <code>freq</code> function is to create
the <code>tbl</code> chunk with:</p>
<ul>
<li>the row of big N indicating number of subjects having values in the
character variable for each treatment group</li>
<li>summary of counts and percentages for each category in the character
variable such as age groups, gender, race, ethnicity, etc.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">cdisc_adsl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01PN"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"SEX"</span>,</span>
<span>    statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="st">"n (x.x%)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    row_header <span class="op">=</span> <span class="st">"Sex"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Sex</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="left">5</td>
<td align="left">5</td>
<td align="left">5</td>
<td align="left">N</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">F</td>
<td align="left">2 (40.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">3 (60.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">M</td>
<td align="left">3 (60.0%)</td>
<td align="left">4 (80.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="using-factor-to-order-category-summary">Using factor to order category summary<a class="anchor" aria-label="anchor" href="#using-factor-to-order-category-summary"></a>
</h3>
<p>In the above table, <code>F</code> appears first and then
<code>M</code> is shown. This is because <code>SEX</code> is a character
variable and alphabetical sorting is applied to the summarized results.
We can convert <code>SEX</code> to a factor variable with the customized
order and labels for enabling the user-defined sorting.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">cdisc_adsl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    SEX <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">SEX</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01PN"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"SEX"</span>,</span>
<span>    statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="st">"n (x.x%)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    row_header <span class="op">=</span> <span class="st">"Sex"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Sex</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="left">5</td>
<td align="left">5</td>
<td align="left">5</td>
<td align="left">N</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">3 (60.0%)</td>
<td align="left">4 (80.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">2 (40.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">3 (60.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="counts-denominators-and-percentages-statlist-statlistcnn-x-x">Counts, denominators, and percentages:
<code>statlist = statlist(c("n/N (x.x%)"))</code><a class="anchor" aria-label="anchor" href="#counts-denominators-and-percentages-statlist-statlistcnn-x-x"></a>
</h3>
<p>In some outputs, the table mock-up may require showing the percentage
denominator, which can be done by specifying
<code>statlist = statlist("n/N (x.x%)")</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">cdisc_adsl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>SEX <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>    <span class="va">SEX</span>,</span>
<span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01PN"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"SEX"</span>,</span>
<span>    statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="st">"n/N (x.x%)"</span><span class="op">)</span>,</span>
<span>    row_header <span class="op">=</span> <span class="st">"Sex"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Sex</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">3/5 (60.0%)</td>
<td align="left">4/5 (80.0%)</td>
<td align="left">2/5 (40.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">2/5 (40.0%)</td>
<td align="left">1/5 (20.0%)</td>
<td align="left">3/5 (60.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="by-processing-statlist-statlistcn-n-x-x">By processing:
<code>statlist = statlist(c("N", "n (x.x%)"))</code><a class="anchor" aria-label="anchor" href="#by-processing-statlist-statlistcn-n-x-x"></a>
</h3>
<p>By-processing splits the summary statistics by another character
variable that can be specified in the argument of <code>rowbyvar</code>
or <code>tablebyvar</code>. For the example shown below, age group
categories are summarized by the <code>SEX</code> variable. In this
scenario, the denominator should also be split by <code>SEX</code> in
addition to <code>TRT01PN</code>, which can be done by
<code>statlist(c("N","n (x.x%)"), denoms_by = c("SEX", "TRT01PN"))</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">cdisc_adsl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>SEX <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>    <span class="va">SEX</span>,</span>
<span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01PN"</span>,</span>
<span>    rowbyvar <span class="op">=</span> <span class="st">"SEX"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"AGEGR1"</span>,</span>
<span>    statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="st">"n (x.x%)"</span><span class="op">)</span>, denoms_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SEX"</span>, <span class="st">"TRT01PN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    row_header <span class="op">=</span> <span class="st">"Age group"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="14%">
<col width="14%">
<col width="15%">
<col width="14%">
<col width="15%">
<col width="16%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
<th align="left">SEX</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Male</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">BY_HEADER1</td>
<td align="right">0</td>
<td align="left">Male</td>
</tr>
<tr class="even">
<td align="left">Age group</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
<td align="left">Male</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="left">3</td>
<td align="left">4</td>
<td align="left">2</td>
<td align="left">N</td>
<td align="right">0</td>
<td align="left">Male</td>
</tr>
<tr class="even">
<td align="left">&lt;65</td>
<td align="left">2 (66.7%)</td>
<td align="left">0</td>
<td align="left">1 (50.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">Male</td>
</tr>
<tr class="odd">
<td align="left">&gt;80</td>
<td align="left">1 (33.3%)</td>
<td align="left">1 (25.0%)</td>
<td align="left">0</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">Male</td>
</tr>
<tr class="even">
<td align="left">65-80</td>
<td align="left">0</td>
<td align="left">3 (75.0%)</td>
<td align="left">1 (50.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">Male</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">BY_HEADER1</td>
<td align="right">0</td>
<td align="left">Female</td>
</tr>
<tr class="even">
<td align="left">Age group</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
<td align="left">Female</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">3</td>
<td align="left">N</td>
<td align="right">0</td>
<td align="left">Female</td>
</tr>
<tr class="even">
<td align="left">&lt;65</td>
<td align="left">1 (50.0%)</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">Female</td>
</tr>
<tr class="odd">
<td align="left">&gt;80</td>
<td align="left">1 (50.0%)</td>
<td align="left">1 (100.0%)</td>
<td align="left">1 (33.3%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">Female</td>
</tr>
<tr class="even">
<td align="left">65-80</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">2 (66.7%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">Female</td>
</tr>
</tbody>
</table>
<p>By default, the denominators are calculated by using
<code>colvar</code>, <code>tablebyvar</code>, and <code>rowbyvar</code>.
The above <code>freq</code> function call will also produce the same
results without specifying the <code>denoms_by</code> argument inside
the <code>statlist</code> function.</p>
</div>
<div class="section level3">
<h3 id="padding-factor-levels-on-and-off">Padding factor levels on and off<a class="anchor" aria-label="anchor" href="#padding-factor-levels-on-and-off"></a>
</h3>
<p>When using <code>rowbyvar</code> to create by-processing summaries,
some levels of the <code>rowvar</code> may have zero records as shown in
the example below.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">cdisc_adsl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01PN"</span>,</span>
<span>    rowbyvar <span class="op">=</span> <span class="st">"ETHNIC"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"RACE"</span>,</span>
<span>    statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="st">"n (x.x%)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    row_header <span class="op">=</span> <span class="st">"Race"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="22%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="11%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
<th align="left">ETHNIC</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">HISPANIC OR LATINO</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">BY_HEADER1</td>
<td align="right">0</td>
<td align="left">HISPANIC OR LATINO</td>
</tr>
<tr class="even">
<td align="left">Race</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
<td align="left">HISPANIC OR LATINO</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="left">2</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">N</td>
<td align="right">0</td>
<td align="left">HISPANIC OR LATINO</td>
</tr>
<tr class="even">
<td align="left">WHITE</td>
<td align="left">2 (100.0%)</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">HISPANIC OR LATINO</td>
</tr>
<tr class="odd">
<td align="left">NOT HISPANIC OR LATINO</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">BY_HEADER1</td>
<td align="right">0</td>
<td align="left">NOT HISPANIC OR LATINO</td>
</tr>
<tr class="even">
<td align="left">Race</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
<td align="left">NOT HISPANIC OR LATINO</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="left">3</td>
<td align="left">5</td>
<td align="left">5</td>
<td align="left">N</td>
<td align="right">0</td>
<td align="left">NOT HISPANIC OR LATINO</td>
</tr>
<tr class="even">
<td align="left">WHITE</td>
<td align="left">3 (100.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">NOT HISPANIC OR LATINO</td>
</tr>
</tbody>
</table>
<p>To remove the zero record rows and create the data driven summary,
users can specify the <code>pad = FALSE</code> in the <code>freq</code>
function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">cdisc_adsl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01PN"</span>,</span>
<span>    rowbyvar <span class="op">=</span> <span class="st">"ETHNIC"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"RACE"</span>,</span>
<span>    statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="st">"n (x.x%)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    row_header <span class="op">=</span> <span class="st">"Race"</span>,</span>
<span>    pad <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="22%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="11%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
<th align="left">ETHNIC</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">HISPANIC OR LATINO</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">BY_HEADER1</td>
<td align="right">0</td>
<td align="left">HISPANIC OR LATINO</td>
</tr>
<tr class="even">
<td align="left">Race</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
<td align="left">HISPANIC OR LATINO</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="left">2</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">N</td>
<td align="right">0</td>
<td align="left">HISPANIC OR LATINO</td>
</tr>
<tr class="even">
<td align="left">WHITE</td>
<td align="left">2 (100.0%)</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">HISPANIC OR LATINO</td>
</tr>
<tr class="odd">
<td align="left">NOT HISPANIC OR LATINO</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">BY_HEADER1</td>
<td align="right">0</td>
<td align="left">NOT HISPANIC OR LATINO</td>
</tr>
<tr class="even">
<td align="left">Race</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">0</td>
<td align="left">NOT HISPANIC OR LATINO</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="left">3</td>
<td align="left">5</td>
<td align="left">5</td>
<td align="left">N</td>
<td align="right">0</td>
<td align="left">NOT HISPANIC OR LATINO</td>
</tr>
<tr class="even">
<td align="left">WHITE</td>
<td align="left">3 (100.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">NOT HISPANIC OR LATINO</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="denominator-dataframe">Denominator Dataframe<a class="anchor" aria-label="anchor" href="#denominator-dataframe"></a>
</h3>
<p>When using frequency analysis you do not need to always use your main
dataframe to calculate your denominators. For example, an adverse event
table may use <code>ADSL</code> as the denominator dataframe instead of
<code>ADAE</code> even though the counts are coming from
<code>ADAE.</code> The example below shows a table counting
<code>AEDECOD</code> but using <code>ADSL</code> to calculate the
denominators.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="va">cdisc_adae</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>TRT01AN <span class="op">=</span> <span class="va">TRTAN</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">adae</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    denom_df <span class="op">=</span> <span class="va">cdisc_adsl</span>,</span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01AN"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"AEDECOD"</span>,</span>
<span>    descending_by <span class="op">=</span> <span class="st">"81"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="36%">
<col width="11%">
<col width="11%">
<col width="12%">
<col width="11%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">APPLICATION SITE PRURITUS</td>
<td align="left">1 (20.0)</td>
<td align="left">2 (40.0)</td>
<td align="left">5 (100.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE ERYTHEMA</td>
<td align="left">1 (20.0)</td>
<td align="left">1 (20.0)</td>
<td align="left">4 (80.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">FATIGUE</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">2 (40.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">ACTINIC KERATOSIS</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE IRRITATION</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE PAIN</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE VESICLES</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">CALCULUS URETHRAL</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">DEPRESSED MOOD</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">DYSPEPSIA</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="by-processing-and-denominators-statlist-statlistcn-x-x-denoms_by-trt01an">By processing and denominators:
<code>statlist = statlist(c("n (x.x)"), denoms_by = "TRT01AN")</code><a class="anchor" aria-label="anchor" href="#by-processing-and-denominators-statlist-statlistcn-x-x-denoms_by-trt01an"></a>
</h3>
<p>When using by variables such as <code>tablebyvar</code> and
<code>rowbyvar</code> the denominators may need to be changed to work
correctly. This also works in conjunction with the <code>denom_df</code>
argument. By default, the denominators are calculated by using
<code>colvar</code>, <code>tablebyvar</code>, and <code>rowbyvar</code>.
This works well if you are using the same dataframe for counts and
denominators but this is not always the case. In the following example
we are doing a similar table as above but using <code>AESEV</code> as a
<code>rowbyvar</code>. In this example we don’t want our denominators by
<code>AESEV</code> since that variable is not in <code>ADSL</code>,
which is where our denominators are coming from. To change the variables
by which our denominators are calculated by we use the
<code>denoms_by</code> argument to the <code>statlist</code> function.
Below you can see that we are using only our <code>colvar</code> of
<code>TRT01PN</code> as our <code>denoms_by</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">adae</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/freq.html">freq</a></span><span class="op">(</span></span>
<span>    denom_df <span class="op">=</span> <span class="va">cdisc_adsl</span>,</span>
<span>    colvar <span class="op">=</span> <span class="st">"TRT01AN"</span>,</span>
<span>    rowvar <span class="op">=</span> <span class="st">"AEDECOD"</span>,</span>
<span>    rowbyvar <span class="op">=</span> <span class="st">"AESEV"</span>,</span>
<span>    statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n (x.x)"</span><span class="op">)</span>, denoms_by <span class="op">=</span> <span class="st">"TRT01AN"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tbl</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="32%">
<col width="10%">
<col width="10%">
<col width="11%">
<col width="12%">
<col width="14%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">group_level</th>
<th align="left">AESEV</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">MILD</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">BY_HEADER1</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">ACTINIC KERATOSIS</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE DERMATITIS</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE ERYTHEMA</td>
<td align="left">1 (20.0)</td>
<td align="left">1 (20.0)</td>
<td align="left">4 (80.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE IRRITATION</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">1 (20.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE PAIN</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE PRURITUS</td>
<td align="left">1 (20.0)</td>
<td align="left">2 (40.0)</td>
<td align="left">5 (100.0)</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE URTICARIA</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">0</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE VESICLES</td>
<td align="left">0</td>
<td align="left">1 (20.0)</td>
<td align="left">0</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">ARTHRALGIA</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">VALUE</td>
<td align="right">0</td>
<td align="left">MILD</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="available-statlist-formats-for-frequency-summary">Available <code>statlist</code> formats for frequency summary<a class="anchor" aria-label="anchor" href="#available-statlist-formats-for-frequency-summary"></a>
</h3>
<p>We have shown the common use cases of calling different variants of
the <code>statlist</code> for frequency summaries. The table below
describes all available options to be specified for the
<code>statlist</code> in <code>freq</code>.</p>
<table style="width:99%;" class="table">
<colgroup><col width="98%"></colgroup>
<tbody>
<tr class="odd">
<td>
<code>Statlist</code> | Description
==============+:===================================================:+
<code>n</code> | count</td>
</tr>
<tr class="even">
<td>
<code>n (x.x)</code> | count (percentage without %)</td>
</tr>
<tr class="odd">
<td>
<code>n (x.x%)</code> | count (percentage with %)</td>
</tr>
<tr class="even">
<td>
<code>n/N</code> | count/denominator</td>
</tr>
<tr class="odd">
<td>
<code>n/N (x.x)</code> | count/denominator (percentage without
%)</td>
</tr>
<tr class="even">
<td>
<code>n/N (x.x%)</code> | count/denominator (percentage with %)</td>
</tr>
</tbody>
</table>
<p>To learn more about using the <code>statlist</code> function for freq
analysis, please type <code><a href="../reference/statlist.html">?statlist</a></code> in your console.</p>
</div>
</div>
<div class="section level2">
<h2 id="nested-frequency-analysis">Nested Frequency Analysis<a class="anchor" aria-label="anchor" href="#nested-frequency-analysis"></a>
</h2>
<p>A major portion of Adverse Events (<code>AE</code>) summary tables
require summarizing number of subjects with treatment-emergent adverse
events by system organ class and preferred term, which is in a nested
structure and needs additional processing on top of the
<code>freq</code> function. Therefore, we developed the
<code>nested_freq</code> function to address the nested structure
(counts within counts):</p>
<ul>
<li>
<code>rowvar</code>: we can specify nested levels separated by
<code>*</code> (e.g. <code>AEBODSYS*AEDECOD</code>); this can be
expanded to three levels.</li>
<li>
<code>descending_by</code>: the name of the column for sorting in
descending frequency order.</li>
<li>
<code>cutoff_stat</code>: the value to cutoff by, <code>n</code>
(count) or <code>pct</code> (percentage); default =
<code>pct</code>.</li>
<li>
<code>cutoff</code>: numeric value of the percentage/count threshold
in any treatment group for cutting the data to be presented; for
example, <code>cutoff = 1.0</code> means to only keep the preferred term
rows with percentages <code>&gt;= 1%</code> when
<code>cutoff_stat = 'pct'</code>.</li>
</ul>
<p>In the example below, we will show you how to use these arguments in
the <code>nested_freq</code> function call for creating the
<code>AE</code> summary table by <code>AEBODSYS</code> and
<code>AEDECOD</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="va">cdisc_adae</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">SAFFL</span> <span class="op">==</span> <span class="st">"Y"</span>, <span class="va">TRTEMFL</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">AEBODSYS</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"GENERAL DISORDERS AND ADMINISTRATION SITE CONDITIONS"</span>,</span>
<span>    <span class="st">"SKIN AND SUBCUTANEOUS TISSUE DISORDERS"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>TRT01AN <span class="op">=</span> <span class="va">TRTAN</span><span class="op">)</span></span>
<span></span>
<span><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="va">cdisc_adsl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">SAFFL</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span></span></code></pre></div>
<p>For illustration purpose, we subset the <code>adae</code> data to
only contain records in the 2 categories of system organ class: GENERAL
DISORDERS AND ADMINISTRATION SITE CONDITIONS, SKIN AND SUBCUTANEOUS
TISSUE DISORDERS. So the table output is not too long and will be easier
to visualize. In addition, we would like to sort the output by the
active drug group <code>(TRT01AN = 81)</code> with descending frequency.
Therefore, we specify <code>descending_by = "81"</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nested_freq.html">nested_freq</a></span><span class="op">(</span><span class="va">adae</span>,</span>
<span>  denom_df <span class="op">=</span> <span class="va">adsl</span>,</span>
<span>  colvar <span class="op">=</span> <span class="st">"TRT01AN"</span>,</span>
<span>  rowvar <span class="op">=</span> <span class="st">"AEBODSYS*AEDECOD"</span>,</span>
<span>  statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="st">"n (x.x%)"</span><span class="op">)</span>,</span>
<span>  descending_by <span class="op">=</span> <span class="st">"81"</span>,</span>
<span>  row_header <span class="op">=</span> <span class="st">"System organ class \\\n Preferred term"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="30%">
<col width="5%">
<col width="5%">
<col width="6%">
<col width="5%">
<col width="7%">
<col width="7%">
<col width="30%">
</colgroup>
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">nested_level</th>
<th align="right">group_level</th>
<th align="left">AEBODSYS</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">System organ class \</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Preferred term</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
<td align="left">2 (40.0%)</td>
<td align="left">3 (60.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">NESTED</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE PRURITUS</td>
<td align="left">1 (20.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE ERYTHEMA</td>
<td align="left">1 (20.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">4 (80.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">FATIGUE</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE IRRITATION</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE PAIN</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE VESICLES</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE DERMATITIS</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">0</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE URTICARIA</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">0</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">PYREXIA</td>
<td align="left">1 (20.0%)</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
<td align="left">2 (40.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">NESTED</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
</tr>
<tr class="even">
<td align="left">ACTINIC KERATOSIS</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
</tr>
<tr class="odd">
<td align="left">ERYTHEMA</td>
<td align="left">1 (20.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">0</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
</tr>
<tr class="even">
<td align="left">PRURITUS</td>
<td align="left">1 (20.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">0</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
</tr>
<tr class="odd">
<td align="left">PRURITUS GENERALISED</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">0</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
</tr>
<tr class="even">
<td align="left">URTICARIA</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">0</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
</tr>
</tbody>
</table>
<p>As shown in the output above, the most frequent system organ class is
<strong>GENERAL DISORDERS AND ADMINISTRATION SITE CONDITIONS</strong>,
followed by <strong>SKIN AND SUBCUTANEOUS TISSUE DISORDERS</strong>.
Within each system organ class, the preferred terms are also sorted by
descending frequency. When there is a tie in the counts, the preferred
terms are sorted alphabetically.</p>
<p>The cutoff feature is controlled by two arguments:
<code>cutoff</code> and <code>cutoff_stat</code>. If we want to remove
the rows of preferred terms with only one count in any treatment
columns, we can specify <code>cutoff = 2</code> and
<code>cutoff_stat = "n"</code> in the <code>nested_freq</code> call
below.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nested_freq.html">nested_freq</a></span><span class="op">(</span><span class="va">adae</span>,</span>
<span>  denom_df <span class="op">=</span> <span class="va">adsl</span>,</span>
<span>  colvar <span class="op">=</span> <span class="st">"TRT01AN"</span>,</span>
<span>  rowvar <span class="op">=</span> <span class="st">"AEBODSYS*AEDECOD"</span>,</span>
<span>  statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="st">"n (x.x%)"</span><span class="op">)</span>,</span>
<span>  descending_by <span class="op">=</span> <span class="st">"81"</span>,</span>
<span>  cutoff <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  cutoff_stat <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>  row_header <span class="op">=</span> <span class="st">"System organ class \\\n Preferred term"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="30%">
<col width="5%">
<col width="5%">
<col width="6%">
<col width="5%">
<col width="7%">
<col width="7%">
<col width="30%">
</colgroup>
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">nested_level</th>
<th align="right">group_level</th>
<th align="left">AEBODSYS</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">System organ class \</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Preferred term</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
<td align="left">2 (40.0%)</td>
<td align="left">3 (60.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">NESTED</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE PRURITUS</td>
<td align="left">1 (20.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE ERYTHEMA</td>
<td align="left">1 (20.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">4 (80.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">FATIGUE</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
<td align="left">2 (40.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">NESTED</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
</tr>
<tr class="even">
<td align="left">ERYTHEMA</td>
<td align="left">1 (20.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">0</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">SKIN AND SUBCUTANEOUS TISSUE DISORDERS</td>
</tr>
</tbody>
</table>
<p>The same cutoff results can also be achieved by specifying the cutoff
percentage: <code>cutoff = 25</code> and
<code>cutoff_stat = "pct"</code>. In our example, we only have 5
subjects in each arm and one subject count is equal to 20%, and so we
need more than 20% as the cutoff.</p>
<p>For only keeping the preferred terms with at least 2 counts in the
active arm of <code>TRT01AN = 81</code> (i.e. not considering the other
arms), we can specify <code>cutoff = "81 &gt;= 2"</code> and
<code>cutoff_stat = "n"</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nested_freq.html">nested_freq</a></span><span class="op">(</span><span class="va">adae</span>,</span>
<span>  denom_df <span class="op">=</span> <span class="va">adsl</span>,</span>
<span>  colvar <span class="op">=</span> <span class="st">"TRT01AN"</span>,</span>
<span>  rowvar <span class="op">=</span> <span class="st">"AEBODSYS*AEDECOD"</span>,</span>
<span>  statlist <span class="op">=</span> <span class="fu"><a href="../reference/statlist.html">statlist</a></span><span class="op">(</span><span class="st">"n (x.x%)"</span><span class="op">)</span>,</span>
<span>  descending_by <span class="op">=</span> <span class="st">"81"</span>,</span>
<span>  cutoff <span class="op">=</span> <span class="st">"81 &gt;= 2"</span>,</span>
<span>  cutoff_stat <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>  row_header <span class="op">=</span> <span class="st">"System organ class \\\n Preferred term"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="30%">
<col width="5%">
<col width="5%">
<col width="6%">
<col width="5%">
<col width="7%">
<col width="7%">
<col width="30%">
</colgroup>
<thead><tr class="header">
<th align="left">label</th>
<th align="left">0</th>
<th align="left">54</th>
<th align="left">81</th>
<th align="left">row_type</th>
<th align="right">nested_level</th>
<th align="right">group_level</th>
<th align="left">AEBODSYS</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">System organ class \</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Preferred term</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">HEADER</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
<td align="left">2 (40.0%)</td>
<td align="left">3 (60.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">NESTED</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">APPLICATION SITE PRURITUS</td>
<td align="left">1 (20.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">5 (100.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="odd">
<td align="left">APPLICATION SITE ERYTHEMA</td>
<td align="left">1 (20.0%)</td>
<td align="left">1 (20.0%)</td>
<td align="left">4 (80.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
<tr class="even">
<td align="left">FATIGUE</td>
<td align="left">0</td>
<td align="left">1 (20.0%)</td>
<td align="left">2 (40.0%)</td>
<td align="left">NESTED</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">GENERAL DISORDERS AND ADMINISTRATION SITE
CONDITIONS</td>
</tr>
</tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicholas Masel, Steven Haesendonckx, Pelagia Alexandra Papadopoulou, Sheng-Wei Wang, Eli Miller, Nathan Kosiba, Aidan Ceney, Janssen R&amp;D, Konrad Pagacz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
